<template>
  <div class="jx-collapse">
    <slot></slot>
  </div>
</template>

<script setup lang="ts">
import type { NameType } from './types';
import { CollapseContextKey } from './types';
import { provide, ref } from 'vue';
defineOptions({
  name:'JxCollapse'
});

const activeNames = ref<NameType[]>([]);
const handleItemClick = (item:NameType) => {
  const index = activeNames.value.indexOf(item);
  if (index > -1) {
    activeNames.value.splice(index, 1);
  } else {
    activeNames.value.push(item);
  }
}

provide(CollapseContextKey, {activeNames, handleItemClick});
</script>